<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="tang_ge">
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@1.0.1/dist/css/mdui.min.css">
<link rel="stylesheet" href="/css/main.css">
<script src="https://cdn.jsdelivr.net/npm/mdui@1.0.1/dist/js/mdui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script>
<link rel="shortcut icon" href="https://cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/favicon.ico">
<title>微小站 - 个人小博客</title>
<meta name="generator" content="Hexo 6.3.0"></head>
<body class="mdui-theme-primary-orange mdui-theme-accent-orange mdui-appbar-with-toolbar" id="main-body">
    <header class="mdui-appbar mdui-appbar-fixed">
    <div class="mdui-progress mdui-color-theme" id="show-loading">
        <div class="mdui-progress-indeterminate"></div>
    </div>
    <div class="mdui-toolbar mdui-color-theme">
        <a href="javascript:;" class="mdui-btn mdui-btn-icon"
            mdui-drawer="{target: '#main-drawer', swipe: true, overlay: true}">
            <i class="mdui-icon material-icons">menu</i>
        </a>
        <a href="javascript:;" class="mdui-typo-title">
            微小站
        </a>
        <div class="mdui-toolbar-spacer"></div>
        
            <a href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-tooltip="{content: '亮/黑主题'}" onclick="darkmod_use()">
                <i class="mdui-icon material-icons">brightness_4</i>
            </a>
        
        
            <a class="mdui-btn mdui-btn-icon" href="/search/" mdui-tooltip="{content: '搜索'}">
                <i class="mdui-icon material-icons">search</i>
            </a>
        
        
            <a href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-tooltip="{content: '分享'}" mdui-dialog="{target: '#Share',modal: true}">
                <i class="mdui-icon material-icons">share</i>
            </a>
        
    </div>
</header>
<div class="mdui-dialog" id="Share">
    <div class="mdui-dialog-title">分享当前页面</div>
    <div class="mdui-dialog-content">选择你的分享方式……</div>
    <div class="mdui-dialog-actions">
        <button class="mdui-btn mdui-ripple" mdui-dialog-close onclick="Share('WeiBo')">微博</button>
        <button class="mdui-btn mdui-ripple" mdui-dialog-close onclick="Shre('Url')">复制链接</button>
        <button class="mdui-btn mdui-ripple" mdui-dialog-close>取消</button>
    </div>
</div>
<script>
    window.addEventListener('load', function () {
        var element = document.getElementById('show-loading');
        if (element) {
            element.style.display = 'none';
        }
    });
</script>
    <div class="mdui-drawer mdui-drawer-close mdui-drawer-full-height" id="main-drawer">
    <!--个人信息展示-->
    
        <div style="background-size: cover; background-position: center center; padding-top: 60px; background-image: url(https://s2.loli.net/2023/06/30/NUlhOBYpfJAmo9i.jpg);">
            <div class="mdui-list-item">
                <div class="mdui-list-item-avatar"><img src="https://drea.cc/uc_server/avatar.php?uid=738&amp;size=big"/></div>
                <div class="mdui-list-item-content">tang_ge</div>
            </div>
        </div>
    
    <ul class="mdui-list" mdui-collapse="{accordion: true}">
        <!--文章部分-->
        <li class="mdui-subheader">文章</li>

        <li class="mdui-list-item mdui-ripple mdui-list-item-active" href="/" >
    <a href="/" class="mdui-list-item-icon mdui-icon material-icons">home</a>
    <a href="/" class="mdui-list-item-content">主页</a>
</li>
<!--博客文章存档-->

<li class="mdui-list-item mdui-ripple" href="/archives/">
    <a class="mdui-list-item-icon mdui-icon material-icons" href="/archives/">inbox</a>
    <a class="mdui-list-item-content" href="/archives/">存档</a>
</li>


<li class="mdui-collapse-item">
    <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
        <a class="mdui-list-item-icon mdui-icon material-icons">label</a>
        <div class="mdui-list-item-content">标签</div>
        <div class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</div>
    </div>
    <ul class="mdui-collapse-item-body mdui-list mdui-list-dense">
        <a class="mdui-list-item mdui-ripple" href="/tags/">全部标签</a>
        
        
            
                <a class="mdui-list-item mdui-ripple" href="/tags/小站日志">小站日志</a>
            
            
        
            
                <a class="mdui-list-item mdui-ripple" href="/tags/开发心得">开发心得</a>
            
            
        
            
                <a class="mdui-list-item mdui-ripple" href="/tags/刷机">刷机</a>
            
            
        

    </ul>
</li>


<li class="mdui-collapse-item">
    <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
        <a class="mdui-list-item-icon mdui-icon material-icons">bookmark</a>
        <div class="mdui-list-item-content">页面</div>
        <div class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</div>
    </div>
    <ul class="mdui-collapse-item-body mdui-list mdui-list-dense">
        
            <a class="mdui-list-item mdui-ripple" href="/2023/06/22/hello-world/">关于本站</a>
        
    </ul>
</li>


        <!--其它部分-->
        <li class="mdui-subheader">其它</li>

        
    <li class="mdui-collapse-item">
        <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
            <a class="mdui-list-item-icon mdui-icon material-icons">account_circle</a>
            <div class="mdui-list-item-content">其它平台</div>
            <div class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</div>
        </div>
        <ul class="mdui-collapse-item-body mdui-list mdui-list-dense">
            
                <a class="mdui-list-item mdui-ripple" target="_blank" rel="noopener" href="https://github.com/tangge233">GitHub</a>
            
                <a class="mdui-list-item mdui-ripple" target="_blank" rel="noopener" href="https://space.bilibili.com/39564659">哔哩哔哩</a>
            
        </ul>
    </li>


    <li class="mdui-collapse-item">
        <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
            <a class="mdui-list-item-icon mdui-icon material-icons">people</a>
            <div class="mdui-list-item-content">友链</div>
            <div class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</div>
        </div>
        <ul class="mdui-collapse-item-body mdui-list mdui-list-dense">
            
            <a target="_blank" rel="noopener" href="https://drea.cc/">
            <div class="mdui-list-item">
            <div class="mdui-list-item-avatar mdui-float-left"><img src="https://drea.cc/favicon.ico"/></div>
            <div class="mdui-list-item-content">梦幻框架</div>
            </div></a>
            
            <a target="_blank" rel="noopener" href="https://github.com/">
            <div class="mdui-list-item">
            <div class="mdui-list-item-avatar mdui-float-left"><img src="https://github.com/favicon.ico"/></div>
            <div class="mdui-list-item-content">GitHub</div>
            </div></a>
            
        </ul>
    </li>


    </ul>
</div>
    <div class="mdui-container" id="pjax-main">
        <div class="mdui-grid-tile mdui-hoverable" style="margin-top: 5%;">
    <img class="mdui-img-fluid mdui-img-rounded" src="https://s2.loli.net/2023/07/03/ePzZEXBo7Nmah3H.jpg">
    <div class="mdui-grid-tile-actions">
        <div class="mdui-grid-tile-text">
            <div class="mdui-grid-tile-title">
                网心云刷机
            </div>
            <div class="mdui-grid-tile-subtitle">
                <i class="mdui-icon material-icons">date_range</i>发布于 2023-07-03 |
                <i class="mdui-icon material-icons">list</i>标签：刷机  
            </div>
        </div>
    </div>
</div>
<div class="post-content mdui-card" style="margin-top: 8px;">
    <div class="mdui-chip">
        <img class="mdui-chip-icon mdui-img-rounded" src="https://drea.cc/uc_server/avatar.php?uid=738&amp;size=big"/>
        <span class="mdui-chip-title">tang_ge</span>
    </div>
    <h1 id="前提说明"><a href="#前提说明" class="headerlink" title="前提说明"></a>前提说明</h1><p>本博客介绍的玩客云刷机用途是用来搭建家庭小服务器的，选择玩客云的机器是因为其刷机生态较好、刷机成本低、使用功耗低。当然玩客云的性能有限，只可以从事一些较轻的工作（比如挂载 <a target="_blank" rel="noopener" href="https://alist.nn.ci/zh/">Alist</a>、<a target="_blank" rel="noopener" href="https://github.com/aria2/aria2">Aria2</a>）。</p>
<h1 id="刷机步骤"><a href="#刷机步骤" class="headerlink" title="刷机步骤"></a>刷机步骤</h1><p>不保证 100% 成功，本博客使用的玩客云硬件版本是 1.3 的，其它版本请移步至其它教程文档。</p>
<h2 id="工具准备"><a href="#工具准备" class="headerlink" title="工具准备"></a>工具准备</h2><p>准备玩客云本体一台（这里用的是二手货）、12V 1.5A 电源线适配器一个、公对公的 USB 线一条（使用 <code>USB 3.0</code> 的线也可以）、网线一条、电吹风一个（热风枪也可以）、十字形螺丝刀一个、拆机片一片（或者一字形螺丝刀等工具）、尖嘴老虎钳一个（非必须。主要主板卡的实在是太紧了，直接上手拉可能会受伤）、一台计算机</p>
<h2 id="软件准备"><a href="#软件准备" class="headerlink" title="软件准备"></a>软件准备</h2><h3 id="Linux-系统-Armbian"><a href="#Linux-系统-Armbian" class="headerlink" title="Linux 系统 Armbian"></a>Linux 系统 Armbian</h3><p>下载地址：<a target="_blank" rel="noopener" href="https://github.com/hzyitc/armbian-onecloud/releases">GitHub</a>（如无法访问，可以试一试<a target="_blank" rel="noopener" href="https://kgithub.com/hzyitc/armbian-onecloud/releases">这个地址</a>）</p>
<p>打开下载地址，你会看到 Release 列表中令人眼花缭乱的文件，比如 <code>Armbian_23.08.0-trunk_Onecloud_bullseye_edge_6.3.6_minimal.burn.img</code> 这个文件。</p>
<p><code>Armbian</code> 是基于 <code>Debian</code> 开发出来的嵌入式操作系统。其中 <code>bookworm</code> 是 <code>Debian 11</code> 的代号，<code>bullseye</code> 是 <code>Debian 10 测试版</code> 的代号。<code>Current</code> 表示稳定发行版，<code>Edge</code> 表示测试版本。<code>minimal</code> 表示最小。<code>burn</code> 表示线刷。</p>
<p>这里下载的是 <code>Armbian_23.08.0-trunk_Onecloud_bookworm_current_6.1.32_minimal.burn.img</code>，你也可以根据自己的需求下载。</p>
<h3 id="辅助软件"><a href="#辅助软件" class="headerlink" title="辅助软件"></a>辅助软件</h3><p><a target="_blank" rel="noopener" href="https://mobaxterm.mobatek.net/download-home-edition.html">MobaXterm</a><br><a target="_blank" rel="noopener" href="https://tangge233.lanzoum.com/iW5LI115dfhi">晶晨线刷工具</a>（建议安装 2.1.6.8 版本，高版本在刷机的最后步骤会莫名其妙的报错）</p>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h3 id="拆机"><a href="#拆机" class="headerlink" title="拆机"></a>拆机</h3><p>先用电吹风加热后板，用拆机片或者其它工具拆下后板，然后拧下 6 颗螺丝，拆下后板。这时你就可以看到主板的真容了。用尖嘴老虎钳拔出主板，放于一旁备用。再取用公对公 USB 线，连接计算机与主板。再准备电源线，不接通电源连接主板。</p>
<h3 id="刷机"><a href="#刷机" class="headerlink" title="刷机"></a>刷机</h3><p>启动刷机软件（晶晨线刷工具），载入你下载的镜像，并点击“开始”，软件会等待设备的启动。</p>
<p>使用镊子短接主板上的两个触点。下面是 V1.3 版本主板触点所在位置，触点很小请不要短接错了。</p>
<p><img src="https://s2.loli.net/2023/07/13/IjJLrs5tKf12gxY.png" alt="短接位置"></p>
<p>在短接的状态下接通电源，此时不出意外的话软件已经识别到主板并开始刷入系统，此时请松开短接，等待刷入成功。如果出现报错，请不要慌张，多尝试几次即可。</p>
<p><img src="https://s2.loli.net/2023/07/13/XfjQYWq3AuilS1U.png" alt="刷机过程"></p>
<p>刷机成功后先单击“停止”，后断开主板电源，拔下公对公 USB 线，连接上网线。</p>
<p><img src="https://s2.loli.net/2023/07/13/aMISoKRDhUHjOVu.png" alt="刷机成功"></p>
<p>再次接上电源，设备可能会出现红灯中闪烁者白灯的情况，这不会影响使用。打开你的路由器后台，IP 地址一般是 <code>192.168.1.1</code> 也有可能是 <code>192.168.10.1</code>，进入后台后找到名称为 <code>onecloud</code> 的设备，并将其 IP 地址复制下来。</p>
<h2 id="初始化过程"><a href="#初始化过程" class="headerlink" title="初始化过程"></a>初始化过程</h2><p>打开 <code>MobaXterm</code> ，单击上方图标中的 <code>Session</code>，选择 <code>SSH</code> ，并输入 IP 地址连接。</p>
<p><img src="https://s2.loli.net/2023/07/13/Bi4pjUdravth1fK.png" alt="操作"></p>
<p>默认的用户名是 <code>root</code>，密码是 <code>1234</code>。</p>
<p><img src="https://s2.loli.net/2023/07/13/jyvhoksLJbCgQ3G.png" alt="首次登录"></p>
<p>首次登录要求重新设置 root 账户的密码，输入一个你可以记住的密码。除非你的设备只在内网使用，否则请设置一个较为复杂的密码。设置完成密码后用 <code>Ctrl+C</code> 取消新用户创建。</p>
<p><img src="https://s2.loli.net/2023/07/13/9pTx4hm7bfLCKYM.png" alt="控制台界面"></p>
<h3 id="修改设备名称"><a href="#修改设备名称" class="headerlink" title="修改设备名称"></a>修改设备名称</h3><p>设备默认名称是 <code>onecloud</code>，通过编辑 <code>/etc/hostname</code> 可以修改设备名称。可以通过左侧的文件列表进行可视化操作。</p>
<h3 id="修改时区"><a href="#修改时区" class="headerlink" title="修改时区"></a>修改时区</h3><p>输入 <code>date</code> 会发现显示的时间与计算机上的不相同，这是时区设置问题，输入 <code>timedatectl set-timezone Asia/Shanghai</code> 改为我国使用的东八区。</p>
<h3 id="使用清华软件加速源"><a href="#使用清华软件加速源" class="headerlink" title="使用清华软件加速源"></a>使用清华软件加速源</h3><p>由于软件源服务器在国外，国内访问速度感人，因此需要换成加速源，不然你就要看着纹丝不动的进度条陷入沉思……</p>
<p>编辑 <code>/etc/apt/sources.list</code> 文件，把 <code>http://deb.debian.org/</code> 换成 <code>https://mirrors.tuna.tsinghua.edu.cn/</code>。需要注意最后的 <code>http://security.debian.org/</code> 需要变成 <code>https://mirrors.tuna.tsinghua.edu.cn/debian-security</code>。</p>
<p>下面是我自己使用的更新源文件内容。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian bookworm main contrib non-free non-free-firmware</span><br><span class="line">#deb-src http://deb.debian.org/debian bookworm main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian bookworm-updates main contrib non-free non-free-firmware</span><br><span class="line">#deb-src http://deb.debian.org/debian bookworm-updates main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line">deb http://deb.debian.org/debian bookworm-backports main contrib non-free non-free-firmware</span><br><span class="line">#deb-src http://deb.debian.org/debian bookworm-backports main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian-security bookworm-security main contrib non-free non-free-firmware</span><br><span class="line">#deb-src http://security.debian.org/ bookworm-security main contrib non-free non-free-firmware</span><br></pre></td></tr></table></figure>

<h3 id="安装-TailScale"><a href="#安装-TailScale" class="headerlink" title="安装 TailScale"></a>安装 TailScale</h3><p>这是一个用来异地组建局域网的软件，可以让你无需公网 IP 就可以在非同一个局域网内访问另一个设备。</p>
<p>执行 <code>curl -fsSL https://tailscale.com/install.sh | sh</code> 即可。下载会很慢。安装好后，输入 <code>tailscale login</code> 进行账户登录，此时会返回一个网址，在本地计算机打开操作即可。</p>
<h3 id="安装-CasaOS"><a href="#安装-CasaOS" class="headerlink" title="安装 CasaOS"></a>安装 CasaOS</h3><p>这是一个便捷的 Doker 管理工具，而且界面很好看。使用 <code>curl -fsSL https://get.casaos.io | sudo bash</code> 安装。安装好后直接在浏览器里访问设备的 IP 地址就可以看到效果，初次使用需要设置登录密码。</p>
<h3 id="安装-Alist"><a href="#安装-Alist" class="headerlink" title="安装 Alist"></a>安装 Alist</h3><p>此步骤是在安装好 <code>CasaOS</code> 的基础上操作的。</p>
<p>执行 <code>docker run -d --restart=always -v /etc/alist:/opt/alist/data -p 5244:5244 -e PUID=0 -e PGID=0 -e UMASK=022 --name=&quot;alist&quot; xhofe/alist:latest</code> 来安装。执行完命令后回到 <code>CasaOS</code> 可以看到可导入 Alist，单击导入，WebUI 端口选择 <code>5244</code>。</p>
<p>软件图标可以用 <code>https://cdn.jsdelivr.net/gh/alist-org/logo@main/logo.svg</code></p>
<p>输入 <code>docker exec -it alist ./alist admin</code> 查看管理员信息，也就是获取登录的账户密码。登录后请务必去停用游客账户。</p>
<p>之后你可以使用 <a target="_blank" rel="noopener" href="https://www.raidrive.com/">RaiDrive</a> 挂载到本地计算机。</p>
<h1 id="后言"><a href="#后言" class="headerlink" title="后言"></a>后言</h1><p>使用这个机器的原因主要在于<del>作者爱折腾</del>使用成本低。在某多上只需要20多即可搞到一台。假如以最高 18 W 功率满负荷运行，则一个月电费（按照 0.5 元&#x2F;度 计算）为 0.018*24*30*0.5 &#x3D; 6.48 元。</p>

    <hr/>
<div style="border:silver 1px dashed;width:auto;padding:12px;font-size: 12px;">
    作者：<a href="https://tangge233.github.io/" target="_blank">tang_ge</a><br>
    出处：<a href="https://tangge233.github.io/">微博客</a><br>
    版权：本文版权归作者所有。本文中可能使了部分来自于网络的图片，如有侵权，请<a target="_blank" rel="noopener" href="https://github.com/tangge233/tangge233.github.io/issues">发起 Issues</a>。<br>
    转载：欢迎转载，但未经作者同意，必须保留此段声明；必须在文章中给出原文连接；否则必究法律责任。
</div>
</div>
<div class="mdui-typo" style="margin-top: 10px;text-align: right;">
    
        <a href="/2023/07/01/Hexo%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91%E5%BF%83%E5%BE%97/" class="mdui-btn mdui-btn-raised mdui-ripple mdui-ripple-white">
            <i class="mdui-icon material-icons">arrow_back</i>
            <span>阅读上一篇 Hexo主题开发心得</span>
        </a>
    
    
</div>
<link rel="stylesheet" href="/css/code_block.css">


        <div style="text-align: center;margin-top: 10%;">

</div>
        
    <a class="mdui-fab mdui-ripple mdui-color-orange mdui-fab-fixed mdui-fab-hide" id="backToTop" mdui-tooltip="{content: '回到顶部'}" onclick="scrollToTop()">
        <i class="material-icons mdui-icon mdui-text-color-black-icon">arrow_upward</i>
    </a>

    </div>
</body>
<script src="/js/main.js"></script>
<!--百度统计-->
<script>
    if (window.location.hostname == "tangge233.github.io") {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?b495fb03b3357f1d1e160f1bd1da897a";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        } else {
            mdui.snackbar({
                message: '您正在通过其它渠道访问本博客！'
            });
        }
</script>
</html>
